#!/bin/sh

set -eu

readonly description='Update all available package managers.'
readonly this="$(basename "${0}")"

function usage() {
  echo 'Usage:'
  echo "    ${this}"
  echo
  echo 'Description:'
  echo "    ${description}"
}

case "$*" in
  --help|-h)
    usage
    exit
    ;;

  --description)
    echo "${description}"
    exit
    ;;
esac

if [ $# -ne 0 ]; then
  usage
  exit 1
fi


# Print updater commands as they happen.
set -x

# Homebrew.
brew update
brew upgrade

# Install any missing Homebrew packages from ~/.Brewfile.
brew bundle install --global

# Python.
pip3 install \
  jinja2 \
  markdown \
  netifaces \
  pip \
  pyyaml \
  reuse \
  --upgrade

# Go.
go get golang.org/x/tools/cmd/goimports
