#!/bin/sh

set -eu

function usage() {
  echo 'Usage:'
  echo "    $(basename "${0}")"
  echo
  echo 'Synopsis:'
  echo '    Update all updateables (Homebrew), install missing packages.'
}

if [ $# -eq 1 ] && [ "${1}" = '-h' ]; then
  usage
  exit
fi


# Print updater commands as they happen.
set -x

# Homebrew.
brew update
brew upgrade

# Install any missing Homebrew packages from ~/.Brewfile.
brew bundle install --global

# Python.
pip3 install \
  jinja2 \
  markdown \
  netifaces \
  pip \
  pyyaml \
  reuse \
  --upgrade
